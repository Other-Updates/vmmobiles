<?php $theme_path = $this->config->item('theme_locations') . $this->config->item('active_template'); ?><script src="<?= $theme_path; ?>/js/jquery-1.8.2.js"></script><script src="<?= $theme_path; ?>/js/jquery-ui-my-1.10.3.min.js"></script><script type="text/javascript" src="<?php echo $theme_path ?>/js/attendance_reports.js"></script><style>    .btn-xs {        border-radius:0px !important;        text-align:center;    }    table tr th {        text-align:center !important;    }    table tr td {        text-align:center !important;    }</style><div class="mainpanel">    <div class=" media mt--20" >        <div class="row">            <div class="col-md-10">                <h4 class="widgettitle mtop">Data Migration</h4>            </div>            <div class="col-md-2">                <input type="button" id="download" class="btn btn-info migrateion" style="float:right; margin-top:8px;" value="Download"></input>            </div>        </div>    </div></div><div class="mainpanel">    <div class="panel-body mt-top5" id="main_load_div">        <table class="table responsive_table table-striped table-bordered responsive dataTable no-footer dtr-inline" id="basicTable_call_back">            <thead>                <tr>                    <th>S.No</th>                    <th>Last Log Date</th>                    <th>Last Log Time</th>                    <th>status</th>                    <th>Last Entry Datetime</th>                </tr>            </thead>            <tbody>                <?php                if (!empty($migration_logs)) {                    // foreach($migration_logs as $key=>$migrate_data) {                    ?>                    <tr>                        <td><?php echo $key + 1; ?></td>                        <td><?php echo date('d-m-Y', strtotime($migration_logs[0]['log_date'])); ?></td>                        <td><?php echo date('g:i A', strtotime($migration_logs[0]['start_time'])) . "-" . date('g:i A', strtotime($migration_logs[0]['end_time'])); ?></td>                        <td style="text-align:center;"><?php echo $migration_logs[0]['status']; ?></td>                        <td style="text-align:center;"><?php echo $migration_logs[0]['last_run_log_datetime']; ?></td>                    </tr>                <?php } else { ?>                    <tr><td><center>No result found...</center></td></tr>            <?php } ?>            </tbody>        </table>    </div></div><script>    $('.migrateion').on('click', function () {        for_loading();//  alert(date);        $.ajax({            url: BASE_URL + "attendance/epushserver_run",            type: "POST",            // data: {last_logdate: date},            success: function (result)            {                for_response(result);                if (result == 0)                {                    alert('no data');                } else {                    location.reload(true);                    alert('success');                }            }        });    });    function for_loading() {        //THIS IS FOR NOTIFICATION WHEN AJAX LOAD STARTS, CODE STARTS HERE        $('#main_load_div').css('display', 'block');        $('#dyna_div').addClass('my_alert-info').removeClass('my_alert-success');        $('#info_txt').html('Loading...');        //THIS IS FOR NOTIFICATION WHEN AJAX LOAD STARTS, CODE ENDS HERE    }    function for_response(txt) {        //THIS IS FOR NOTIFICATION WHEN AJAX LOAD RESPONSE CAME CODE STARTS HERE        if (txt == 1)        {            $('#dyna_div').addClass('my_alert-success').removeClass('my_alert-info');            $('#info_txt').html('Success...');        } else {            $('#dyna_div').addClass('my_alert-success').removeClass('my_alert-info');            $('#info_txt').html('No data...');        }        setTimeout(function () {            $('#main_load_div').css('display', 'none');        }, 100);        //THIS IS FOR NOTIFICATION WHEN AJAX LOAD RESPONSE CAME CODE ENDS HERE    }</script>